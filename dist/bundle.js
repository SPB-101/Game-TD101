(()=>{"use strict";var e={424:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(645),o=r.n(n),i=r(667),s=r.n(i),a=r(233),c=o()((function(e){return e[1]})),h=s()(a.Z);c.push([e.id,"/*****************************************************************************/\n/* Reset\n/*****************************************************************************/\n/*html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}*/\n\n\n/*****************************************************************************/\n/* Global\n/*****************************************************************************/\n\na {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    color: #00F;\n    cursor: pointer;\n    text-decoration: none;\n    user-select: none;\n}\n\n/*body {*/\n/*    -moz-box-shadow: 0 0 10px #000;*/\n/*    -webkit-box-shadow: 0 0 10px #000;*/\n/*    box-shadow: 0 0 10px #000;*/\n/*    display: inline-block;*/\n/*    margin: 10px;*/\n/*    font: 12px \"Droid Sans Mono\", monospace;*/\n/*}*/\n\nbody {\n    background-image: url("+h+");\n    background-color: #CCCCCC;\n    background-blend-mode: screen;\n    background-size: 100%;\n}\n\n.root {\n    display: block;\n    position: relative;\n    width: 1024px;\n    margin: auto;\n    box-shadow: 0 0 10px #000;\n}\n\ncanvas {\n    width: 1024px;\n    height: 768px;\n    margin: 0;\n}\n\n#control {\n    background-color: #DDD;\n    font-size: 12px;\n    height: 84px;\n    width: 1024px;\n    margin: 0;\n    margin-top: -4px;\n}\n\nimg {\n    width: auto;\n    height: auto;\n    max-width: 64px;\n    max-height: 64px;\n    background-size: 100%;\n}\n\n#control-left {\n    float: left;\n}\n\n#control-turrets > a {\n    float: left;\n    text-align: center;\n    width: 90px;\n    display: block;\n}\n\n\n#control-score {\n    position: relative;\n}\n\n#control-right {\n    float: right;\n}\n\n#control-right-1, #control-right-2, #control-right-3 {\n    float: left;\n}\n\n#control-timer {\n    background-color: #F00;\n    display: block;\n    height: 20px;\n    width: 20px;\n}\n\n#control-fast {\n    background-color: #85ADE6;\n    display: block;\n    height: 20px;\n    width: 20px;\n}\n\n#control-right-2 {\n    border: solid #CCC;\n    border-width: 0 1px;\n    min-width: 60px;\n    padding: 0 10px;\n}\n",""]);const f=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);n&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},233:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"img/background.jpg"},379:(e,t,r)=>{var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function s(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function a(e,t){for(var r={},n=[],o=0;o<e.length;o++){var a=e[o],c=t.base?a[0]+t.base:a[0],h=r[c]||0,f="".concat(c," ").concat(h);r[c]=h+1;var l=s(f),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(i[l].references++,i[l].updater(u)):i.push({identifier:f,updater:m(u,t),references:1}),n.push(f)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var h,f=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function l(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function u(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d=null,p=0;function m(e,t){var r,n,o;if(t.singleton){var i=p++;r=d||(d=c(t)),n=l.bind(null,r,i,!1),o=l.bind(null,r,i,!0)}else r=c(t),n=u.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=s(r[n]);i[o].references--}for(var c=a(e,t),h=0;h<r.length;h++){var f=s(r[h]);0===i[f].references&&(i[f].updater(),i.splice(f,1))}r=c}}}},76:(e,t,r)=>{var n=r(379),o=r.n(n),i=r(424);o()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;class s{constructor(e,t){this.x=e,this.y=t}}class a{}a.rand=e=>Math.floor(Math.random()*(e+1)),a.move=(e,t,r)=>{const n=t.x-e.sprite.currentPos.x,o=t.y-e.sprite.currentPos.y,i=Math.atan2(o,n);return e.sprite.currentPos=new s(e.sprite.currentPos.x+r*Math.cos(i),e.sprite.currentPos.y+r*Math.sin(i)),(n<0?-n:n)+(o<0?-o:o)<2};class c{}c.Loopy=[{x:0,y:380},{x:280,y:380},{x:400,y:220},{x:620,y:220},{x:750,y:380},{x:1024,y:380}];const h=r.p+"img/map_1.jpg",f=r.p+"img/meh1.jpg",l=JSON.parse('{"frames":{"meh_b1_0001.png":{"frame":{"x":571,"y":126,"w":110,"h":122},"offset":{"x":3,"y":-12},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":51,"w":110,"h":122}},"meh_b1_0002.png":{"frame":{"x":578,"y":237,"w":110,"h":124},"offset":{"x":3,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":49,"w":110,"h":124}},"meh_b1_0003.png":{"frame":{"x":740,"y":1,"w":114,"h":124},"offset":{"x":1,"y":-11},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":59,"y":49,"w":114,"h":124}},"meh_b1_0004.png":{"frame":{"x":613,"y":1,"w":116,"h":126},"offset":{"x":0,"y":-10},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":57,"y":47,"w":116,"h":126}},"meh_b1_0005.png":{"frame":{"x":323,"y":128,"w":112,"h":124},"offset":{"x":2,"y":-11},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":61,"y":49,"w":112,"h":124}},"meh_b1_0006.png":{"frame":{"x":588,"y":362,"w":110,"h":124},"offset":{"x":3,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":49,"w":110,"h":124}},"meh_b1_0007.png":{"frame":{"x":448,"y":128,"w":112,"h":122},"offset":{"x":2,"y":-12},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":61,"y":51,"w":112,"h":122}},"meh_b1_0008.png":{"frame":{"x":486,"y":1,"w":126,"h":124},"offset":{"x":-5,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":47,"y":49,"w":126,"h":124}},"meh_b1_0009.png":{"frame":{"x":154,"y":249,"w":140,"h":126},"offset":{"x":-12,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":33,"y":49,"w":140,"h":126}},"meh_b1_0010.png":{"frame":{"x":1,"y":247,"w":152,"h":128},"offset":{"x":-18,"y":-13},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":21,"y":49,"w":152,"h":128}},"meh_b1_0011.png":{"frame":{"x":331,"y":1,"w":154,"h":126},"offset":{"x":-19,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":19,"y":49,"w":154,"h":126}},"meh_b1_0012.png":{"frame":{"x":166,"y":124,"w":156,"h":124},"offset":{"x":-20,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":17,"y":49,"w":156,"h":124}},"meh_b1_0013.png":{"frame":{"x":1,"y":1,"w":164,"h":122},"offset":{"x":-24,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":9,"y":51,"w":164,"h":122}},"meh_b1_0014.png":{"frame":{"x":1,"y":124,"w":164,"h":122},"offset":{"x":-24,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":9,"y":51,"w":164,"h":122}},"meh_b1_0015.png":{"frame":{"x":166,"y":1,"w":164,"h":122},"offset":{"x":-24,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":9,"y":51,"w":164,"h":122}},"meh_b1_0016.png":{"frame":{"x":694,"y":118,"w":110,"h":122},"offset":{"x":3,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":51,"w":110,"h":122}},"meh_go1_0001.png":{"frame":{"x":402,"y":241,"w":90,"h":132},"offset":{"x":1,"y":-9},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":71,"y":43,"w":90,"h":132}},"meh_go1_0002.png":{"frame":{"x":402,"y":374,"w":94,"h":130},"offset":{"x":2,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":45,"w":94,"h":130}},"meh_go1_0003.png":{"frame":{"x":1,"y":376,"w":100,"h":128},"offset":{"x":2,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":67,"y":47,"w":100,"h":128}},"meh_go1_0004.png":{"frame":{"x":295,"y":249,"w":106,"h":126},"offset":{"x":2,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":64,"y":49,"w":106,"h":126}},"meh_go1_0005.png":{"frame":{"x":689,"y":241,"w":110,"h":124},"offset":{"x":2,"y":-13},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":62,"y":51,"w":110,"h":124}},"meh_go1_0006.png":{"frame":{"x":865,"y":1,"w":102,"h":126},"offset":{"x":2,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":66,"y":49,"w":102,"h":126}},"meh_go1_0007.png":{"frame":{"x":102,"y":376,"w":92,"h":128},"offset":{"x":2,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":71,"y":47,"w":92,"h":128}},"meh_go1_0008.png":{"frame":{"x":699,"y":352,"w":88,"h":130},"offset":{"x":0,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":71,"y":45,"w":88,"h":130}},"meh_go1_0009.png":{"frame":{"x":493,"y":241,"w":84,"h":132},"offset":{"x":-3,"y":-9},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":43,"w":84,"h":132}},"meh_go1_0010.png":{"frame":{"x":788,"y":352,"w":84,"h":130},"offset":{"x":-3,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":45,"w":84,"h":130}},"meh_go1_0011.png":{"frame":{"x":284,"y":376,"w":84,"h":128},"offset":{"x":-3,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":47,"w":84,"h":128}},"meh_go1_0012.png":{"frame":{"x":814,"y":215,"w":84,"h":126},"offset":{"x":-3,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":49,"w":84,"h":126}},"meh_go1_0013.png":{"frame":{"x":873,"y":342,"w":84,"h":124},"offset":{"x":-3,"y":-13},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":51,"w":84,"h":124}},"meh_go1_0014.png":{"frame":{"x":805,"y":128,"w":86,"h":126},"offset":{"x":-2,"y":-12},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":49,"w":86,"h":126}},"meh_go1_0015.png":{"frame":{"x":195,"y":376,"w":88,"h":128},"offset":{"x":-1,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":47,"w":88,"h":128}},"meh_go1_0016.png":{"frame":{"x":497,"y":374,"w":90,"h":130},"offset":{"x":0,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":45,"w":90,"h":130}}},"meta":{"scale":"1","image":"meh1.png","format":"RGBA8888","size":{"w":973,"h":505}}}');var u;!function(e){e.meh_go="meh_go",e.meh_b="meh_b"}(u||(u={}));class d{static load(e){for(let e of this.jsons)for(let t in u){const r=[],n=e.frames;for(let e in n)-1!==e.indexOf(t)&&r.push(n[e]);r.length&&(this.frames[t]=r)}let t=0;const r=this.imgs.length;for(let n of this.imgs){const o=new Image;o.src=n,o.onload=()=>{this.maps[n]=o,t++,t===r&&e()}}}}d.jsons=[l],d.imgs=[h,f],d.maps={},d.frames={};class p{constructor(e,t,r,n){this.currentIndex=-1,this.image=e,this.currentFrames=t,this.currentIndex=r,this.currentPos=n}draw(e){if(-1!==this.currentIndex&&this.image){this.currentIndex=(this.currentIndex+1)%this.currentFrames.length;const t=this.currentFrames[this.currentIndex];let r=this.currentPos.x,n=this.currentPos.y;const o={w:t.frame.w,h:t.frame.h},i={x:0,y:0};t.rotated&&(e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(-Math.PI/2),e.translate(-e.canvas.height/2,-e.canvas.width/2),o.w=t.frame.h,o.h=t.frame.w),i.x=r-t.spriteSourceSize.w,i.y=n-t.spriteSourceSize.h,t.rotated&&(i.x=e.canvas.height-n,i.y=r-t.spriteSourceSize.w/2),e.drawImage(this.image,t.frame.x,t.frame.y,o.w,o.h,i.x,i.y,o.w,o.h),e.beginPath(),e.strokeStyle="lime",e.rect(i.x,i.y,o.w,o.h),e.stroke(),e.closePath(),e.beginPath();let s=this.currentPos.x,a=this.currentPos.y;t.rotated&&(s=e.canvas.height-this.currentPos.y,a=this.currentPos.x),e.arc(s,a,4,0,2*Math.PI),e.fillStyle="lime",e.fill(),e.closePath(),t.rotated&&e.restore()}}}const m=document.querySelector("canvas").getContext("2d"),x=new class{constructor(e){this.cx=e,this.map=c.Loopy,this.ticks=0,this._ticks=0,this._tick=0,this.ticker=-1,this.paused=!1,this.wave=0,this._wave=0,this.creeps=[],this.hp=1,this.hpinc=1.3}tick(){if(this.cx.clearRect(0,0,this.cx.canvas.width,this.cx.canvas.height),this.cx.drawImage(d.maps[d.imgs[0]],0,0,this.cx.canvas.width,this.cx.canvas.height),this.ticks-this._ticks==60){const e=Math.round(6e4/(Date.now()-this._tick));this._tick=Date.now(),this.fpsListener(e),this._ticks=this.ticks}if(this._wave+1200===this.ticks){this.hpinc={2:1.2,5:1.15,10:1.1}[this.wave]||this.hpinc,this.hp*=this.hpinc;for(let e=0;e<1;e++){const t={offset:new s(a.rand(14),a.rand(5)),nextpoint:0,speed:3,hp:1,burning:!1,slowfor:0};let r=new s(-20*e-10,this.map[0].y);t.sprite=new p(d.maps[d.imgs[1]],d.frames[u.meh_go],0,r),t.sprite.currentPos=r,this.creeps.push(t)}this._wave=this.ticks}this.creeps.forEach(((e,t,r)=>{const n=this.map[e.nextpoint];n?a.move(e,new s(n.x-7+e.offset.x,n.y-7+e.offset.y),e.speed)&&e.nextpoint++:delete r[t],e.sprite.draw(this.cx)})),this.ticks++}start(){this._ticks=this.ticks,this._tick=Date.now(),this.paused=!1,this.ticker=window.setInterval(this.tick.bind(this),1e3/60),this.tick()}pause(){this.paused=!0,window.clearInterval(this.ticker)}end(){}}(m);(new class{constructor(){this.controlPause=document.querySelector("#control-pause"),this.fpsInfo=document.querySelector("#control-fps")}init(e){this.controlPause.onclick=()=>this.controlPause.textContent=e.paused?(e.start(),"Pause"):(e.pause(),"Start"),e.fpsListener=e=>{this.fpsInfo.textContent=e.toString()},document.onkeydown=t=>{if(!e.paused)switch(t.keyCode){case 13:e._wave=e.ticks-1200}}}}).init(x),d.load((()=>{x.start()}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r(76)})();