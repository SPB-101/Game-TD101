(()=>{"use strict";var e={424:(e,t,r)=>{r.d(t,{Z:()=>u});var s=r(645),o=r.n(s),i=r(667),n=r.n(i),a=r(233),c=o()((function(e){return e[1]})),h=n()(a.Z);c.push([e.id,"body {\n    background: url("+h+") no-repeat center center fixed;\n    background-size: cover;\n    background-color: #CCCCCC;\n    background-blend-mode: screen;\n}\n\na {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    color: #00F;\n    cursor: pointer;\n    text-decoration: none;\n    user-select: none;\n}\n\n.root {\n    display: block;\n    position: relative;\n    width: 1024px;\n    margin: auto;\n    box-shadow: 0 0 10px #000;\n}\n\ncanvas {\n    cursor: pointer;\n    width: 1024px;\n    height: 768px;\n    margin: 0;\n}\n\n#control {\n    background-color: #DDD;\n    font-size: 12px;\n    height: 84px;\n    width: 1024px;\n    margin: 0;\n    margin-top: -4px;\n}\n\nimg {\n    width: auto;\n    height: auto;\n    max-width: 64px;\n    max-height: 64px;\n    background-size: 100%;\n}\n\n#control-left {\n    float: left;\n}\n\n#control-turrets > a {\n    float: left;\n    text-align: center;\n    width: 90px;\n    display: block;\n}\n\n\n#control-score {\n    position: relative;\n}\n\n#control-right {\n    float: right;\n}\n\n#control-right-1, #control-right-2, #control-right-3 {\n    float: left;\n}\n\n#control-right-1, #control-right-2 {\n    display: none;\n}\n\n#control-timer {\n    background-color: #F00;\n    display: block;\n    height: 20px;\n    width: 20px;\n}\n\n#control-fast {\n    background-color: #85ADE6;\n    display: block;\n    height: 20px;\n    width: 20px;\n}\n\n#control-right-2 {\n    border: solid #CCC;\n    border-width: 0 1px;\n    min-width: 60px;\n    padding: 0 10px;\n}\n",""]);const u=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,s){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(s)for(var i=0;i<this.length;i++){var n=this[i][0];null!=n&&(o[n]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);s&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},233:(e,t,r)=>{r.d(t,{Z:()=>s});const s=r.p+"img/background.jpg"},379:(e,t,r)=>{var s,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function n(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function a(e,t){for(var r={},s=[],o=0;o<e.length;o++){var a=e[o],c=t.base?a[0]+t.base:a[0],h=r[c]||0,u="".concat(c," ").concat(h);r[c]=h+1;var f=n(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:u,updater:d(p,t),references:1}),s.push(u)}return s}function c(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var i=r.nc;i&&(s.nonce=i)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var n=o(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function f(e,t,r,s){var o=r?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var i=document.createTextNode(o),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(i,n[t]):e.appendChild(i)}}function p(e,t,r){var s=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var l=null,w=0;function d(e,t){var r,s,o;if(t.singleton){var i=w++;r=l||(l=c(t)),s=f.bind(null,r,i,!1),o=f.bind(null,r,i,!0)}else r=c(t),s=p.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s));var r=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<r.length;s++){var o=n(r[s]);i[o].references--}for(var c=a(e,t),h=0;h<r.length;h++){var u=n(r[h]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}r=c}}}},201:(e,t,r)=>{var s=r(379),o=r.n(s),i=r(424);o()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;const n=r.p+"img/map_1.jpg",a=r.p+"img/meh1.jpg",c=JSON.parse('{"frames":{"meh_b1_0001.png":{"frame":{"x":571,"y":126,"w":110,"h":122},"offset":{"x":3,"y":-12},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":51,"w":110,"h":122}},"meh_b1_0002.png":{"frame":{"x":578,"y":237,"w":110,"h":124},"offset":{"x":3,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":49,"w":110,"h":124}},"meh_b1_0003.png":{"frame":{"x":740,"y":1,"w":114,"h":124},"offset":{"x":1,"y":-11},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":59,"y":49,"w":114,"h":124}},"meh_b1_0004.png":{"frame":{"x":613,"y":1,"w":116,"h":126},"offset":{"x":0,"y":-10},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":57,"y":47,"w":116,"h":126}},"meh_b1_0005.png":{"frame":{"x":323,"y":128,"w":112,"h":124},"offset":{"x":2,"y":-11},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":61,"y":49,"w":112,"h":124}},"meh_b1_0006.png":{"frame":{"x":588,"y":362,"w":110,"h":124},"offset":{"x":3,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":49,"w":110,"h":124}},"meh_b1_0007.png":{"frame":{"x":448,"y":128,"w":112,"h":122},"offset":{"x":2,"y":-12},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":61,"y":51,"w":112,"h":122}},"meh_b1_0008.png":{"frame":{"x":486,"y":1,"w":126,"h":124},"offset":{"x":-5,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":47,"y":49,"w":126,"h":124}},"meh_b1_0009.png":{"frame":{"x":154,"y":249,"w":140,"h":126},"offset":{"x":-12,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":33,"y":49,"w":140,"h":126}},"meh_b1_0010.png":{"frame":{"x":1,"y":247,"w":152,"h":128},"offset":{"x":-18,"y":-13},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":21,"y":49,"w":152,"h":128}},"meh_b1_0011.png":{"frame":{"x":331,"y":1,"w":154,"h":126},"offset":{"x":-19,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":19,"y":49,"w":154,"h":126}},"meh_b1_0012.png":{"frame":{"x":166,"y":124,"w":156,"h":124},"offset":{"x":-20,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":17,"y":49,"w":156,"h":124}},"meh_b1_0013.png":{"frame":{"x":1,"y":1,"w":164,"h":122},"offset":{"x":-24,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":9,"y":51,"w":164,"h":122}},"meh_b1_0014.png":{"frame":{"x":1,"y":124,"w":164,"h":122},"offset":{"x":-24,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":9,"y":51,"w":164,"h":122}},"meh_b1_0015.png":{"frame":{"x":166,"y":1,"w":164,"h":122},"offset":{"x":-24,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":9,"y":51,"w":164,"h":122}},"meh_b1_0016.png":{"frame":{"x":694,"y":118,"w":110,"h":122},"offset":{"x":3,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":63,"y":51,"w":110,"h":122}},"meh_go1_0001.png":{"frame":{"x":402,"y":241,"w":90,"h":132},"offset":{"x":1,"y":-9},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":71,"y":43,"w":90,"h":132}},"meh_go1_0002.png":{"frame":{"x":402,"y":374,"w":94,"h":130},"offset":{"x":2,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":45,"w":94,"h":130}},"meh_go1_0003.png":{"frame":{"x":1,"y":376,"w":100,"h":128},"offset":{"x":2,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":67,"y":47,"w":100,"h":128}},"meh_go1_0004.png":{"frame":{"x":295,"y":249,"w":106,"h":126},"offset":{"x":2,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":64,"y":49,"w":106,"h":126}},"meh_go1_0005.png":{"frame":{"x":689,"y":241,"w":110,"h":124},"offset":{"x":2,"y":-13},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":62,"y":51,"w":110,"h":124}},"meh_go1_0006.png":{"frame":{"x":865,"y":1,"w":102,"h":126},"offset":{"x":2,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":66,"y":49,"w":102,"h":126}},"meh_go1_0007.png":{"frame":{"x":102,"y":376,"w":92,"h":128},"offset":{"x":2,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":71,"y":47,"w":92,"h":128}},"meh_go1_0008.png":{"frame":{"x":699,"y":352,"w":88,"h":130},"offset":{"x":0,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":71,"y":45,"w":88,"h":130}},"meh_go1_0009.png":{"frame":{"x":493,"y":241,"w":84,"h":132},"offset":{"x":-3,"y":-9},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":43,"w":84,"h":132}},"meh_go1_0010.png":{"frame":{"x":788,"y":352,"w":84,"h":130},"offset":{"x":-3,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":45,"w":84,"h":130}},"meh_go1_0011.png":{"frame":{"x":284,"y":376,"w":84,"h":128},"offset":{"x":-3,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":47,"w":84,"h":128}},"meh_go1_0012.png":{"frame":{"x":814,"y":215,"w":84,"h":126},"offset":{"x":-3,"y":-12},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":49,"w":84,"h":126}},"meh_go1_0013.png":{"frame":{"x":873,"y":342,"w":84,"h":124},"offset":{"x":-3,"y":-13},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":51,"w":84,"h":124}},"meh_go1_0014.png":{"frame":{"x":805,"y":128,"w":86,"h":126},"offset":{"x":-2,"y":-12},"rotated":true,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":49,"w":86,"h":126}},"meh_go1_0015.png":{"frame":{"x":195,"y":376,"w":88,"h":128},"offset":{"x":-1,"y":-11},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":47,"w":88,"h":128}},"meh_go1_0016.png":{"frame":{"x":497,"y":374,"w":90,"h":130},"offset":{"x":0,"y":-10},"rotated":false,"sourceSize":{"w":230,"h":200},"spriteSourceSize":{"x":70,"y":45,"w":90,"h":130}}},"meta":{"scale":"1","image":"meh1.png","format":"RGBA8888","size":{"w":973,"h":505}}}'),h=r.p+"img/laser.jpg",u=r.p+"img/rocketgun.jpg",f=r.p+"img/teslagun.jpg",p=r.p+"img/icegun.jpg",l=r.p+"img/turret_teslagun.jpg",w=JSON.parse('{"frames":{"turret3_10001.png":{"frame":{"x":348,"y":126,"w":60,"h":60},"offset":{"x":-3,"y":-17},"rotated":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":37,"w":60,"h":60}},"turret3_10002.png":{"frame":{"x":398,"y":2,"w":60,"h":60},"offset":{"x":-3,"y":-17},"rotated":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":37,"w":60,"h":60}},"turret3_10003.png":{"frame":{"x":126,"y":2,"w":60,"h":60},"offset":{"x":-3,"y":-17},"rotated":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":37,"w":60,"h":60}},"turret3_10004.png":{"frame":{"x":218,"y":126,"w":60,"h":64},"offset":{"x":-3,"y":-15},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":33,"w":60,"h":64}},"turret3_10005.png":{"frame":{"x":146,"y":126,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10006.png":{"frame":{"x":74,"y":126,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10007.png":{"frame":{"x":2,"y":126,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10008.png":{"frame":{"x":362,"y":64,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10009.png":{"frame":{"x":290,"y":64,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10010.png":{"frame":{"x":218,"y":64,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10011.png":{"frame":{"x":146,"y":64,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10012.png":{"frame":{"x":74,"y":64,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10013.png":{"frame":{"x":2,"y":64,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10014.png":{"frame":{"x":326,"y":2,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10015.png":{"frame":{"x":254,"y":2,"w":60,"h":70},"offset":{"x":-3,"y":-12},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":27,"w":60,"h":70}},"turret3_10016.png":{"frame":{"x":188,"y":2,"w":60,"h":64},"offset":{"x":-3,"y":-15},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":33,"w":60,"h":64}},"turret3_10017.png":{"frame":{"x":284,"y":126,"w":60,"h":62},"offset":{"x":-3,"y":-16},"rotated":true,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":35,"w":60,"h":62}},"turret3_10018.png":{"frame":{"x":64,"y":2,"w":60,"h":60},"offset":{"x":-3,"y":-17},"rotated":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":37,"w":60,"h":60}},"turret3_10019.png":{"frame":{"x":2,"y":2,"w":60,"h":60},"offset":{"x":-3,"y":-17},"rotated":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":37,"w":60,"h":60}},"turret3_10020.png":{"frame":{"x":348,"y":126,"w":60,"h":60},"offset":{"x":-3,"y":-17},"rotated":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":17,"y":37,"w":60,"h":60}}},"meta":{"scale":"1","image":"1.png","format":"RGBA8888","size":{"w":460,"h":188}}}');var d,x,y;!function(e){e.meh_go="meh_go",e.meh_b="meh_b",e.turret_6="turret_6",e.turret5_1="turret5_1",e.turret2_1_1="turret2_1_1",e.turret3_1="turret3_1"}(d||(d={}));class m{static getImageMap(e){let t;for(let r in m.maps)if(-1!==r.indexOf(e)){t=m.maps[r];break}return t}static load(e){for(let e of this.jsons)for(let t in d){const r=[],s=e.frames;for(let e in s)-1!==e.indexOf(t)&&r.push(s[e]);r.length&&(this.frames[t]=r)}let t=0;const r=this.imgs.length;for(let s of this.imgs){const o=new Image;o.src=s,o.onload=()=>{this.maps[s]=o,t++,t===r&&e()}}}}m.jsons=[c,w],m.imgs=[n,a,h,u,f,p,l],m.maps={},m.frames={};class g{constructor(e,t){this.image=m.getImageMap(e),this.pos=t,this.name=e}}class S{constructor(e,t){this.x=e,this.y=t}}class _{}_.rand=e=>Math.floor(Math.random()*(e+1)),_.move=(e,t,r)=>{const s=t.x-e.sprite.currentPos.x,o=t.y-e.sprite.currentPos.y,i=Math.atan2(o,s);return e.setPos(new S(e.sprite.currentPos.x+r*Math.cos(i),e.sprite.currentPos.y+r*Math.sin(i))),(s<0?-s:s)+(o<0?-o:o)<2};class z{constructor(e,t,r=0,s=new S(0,0)){this.currentIndex=-1,this.image=e,this.currentFrames=t,this.currentIndex=r,this.currentPos=s}draw(e){if(-1===this.currentIndex)return;const t=.6;if(this.image){this.currentIndex=(this.currentIndex+1)%this.currentFrames.length;const r=this.currentFrames[this.currentIndex];let s=this.currentPos.x,o=this.currentPos.y;const i={w:r.frame.w,h:r.frame.h},n={x:0,y:0};r.rotated&&(e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(-Math.PI/2),e.translate(-e.canvas.height/2,-e.canvas.width/2),i.w=r.frame.h,i.h=r.frame.w),n.x=s-r.spriteSourceSize.w/2*t,n.y=o-r.spriteSourceSize.h*t,r.rotated&&(n.x=e.canvas.height-o,n.y=s-r.spriteSourceSize.w/2*t),e.drawImage(this.image,r.frame.x,r.frame.y,i.w,i.h,n.x,n.y,i.w*t,i.h*t),e.beginPath();let a=this.currentPos.x,c=this.currentPos.y;r.rotated&&(a=e.canvas.height-this.currentPos.y,c=this.currentPos.x),e.arc(a,c,4,0,2*Math.PI),e.fillStyle="lime",e.fill(),e.closePath(),r.rotated&&e.restore()}}}!function(e){e[e.SHOOT_AROUND=0]="SHOOT_AROUND"}(x||(x={}));class v{constructor(e){this.name=e}setState(e){e===x.SHOOT_AROUND&&(this.sprite=new z(m.getImageMap(this.name),m.frames[d.turret3_1]))}}!function(e){e[e.GO_RIGHT=0]="GO_RIGHT"}(y||(y={}));class b{constructor(e){this.slowfor=0,this.nextpoint=0,this.burning=!1,this.cash=0,this.hp=1,this.speed=1,this.offset=e}setPos(e){this.sprite.currentPos=e}setState(e){e===y.GO_RIGHT&&(this.sprite=new z(m.maps[m.imgs[1]],m.frames[d.meh_go]))}}class k{}k.Loopy=[{x:0,y:380},{x:280,y:380},{x:400,y:220},{x:620,y:220},{x:750,y:380},{x:1024,y:380}];const I=document.querySelector("canvas").getContext("2d"),O=new class{constructor(e){this.cx=e,this.map=k.Loopy,this.ticks=0,this._ticks=0,this._tick=0,this.ticker=-1,this.paused=!1,this.wave=0,this._wave=0,this.creeps=[],this.hp=1,this.hpinc=1.3,this.turrets=[]}tick(){if(this.cx.clearRect(0,0,this.cx.canvas.width,this.cx.canvas.height),this.cx.drawImage(m.maps[m.imgs[0]],0,0,this.cx.canvas.width,this.cx.canvas.height),this.ticks-this._ticks==60){const e=Math.round(6e4/(Date.now()-this._tick));this._tick=Date.now(),this.fpsListener(e),this._ticks=this.ticks}if(this._wave+1200===this.ticks){this.hpinc={2:1.2,5:1.15,10:1.1}[this.wave]||this.hpinc,this.hp*=this.hpinc;for(let e=0;e<1;e++){const t=new b(new S(_.rand(14),_.rand(5)));t.setState(y.GO_RIGHT),t.setPos(new S(-20*e-10,this.map[0].y)),this.creeps.push(t)}this._wave=this.ticks}this.creeps.forEach(((e,t,r)=>{const s=this.map[e.nextpoint];s?_.move(e,new S(s.x-7+e.offset.x,s.y-7+e.offset.y),e.speed)&&e.nextpoint++:delete r[t],e.sprite.draw(this.cx)})),this.selected&&this.cx.drawImage(this.selected.image,this.selected.pos.x-this.selected.image.width/2,this.selected.pos.y-this.selected.image.width),this.turrets.forEach((e=>{e.sprite.draw(this.cx)})),this.ticks++}start(){this._ticks=this.ticks,this._tick=Date.now(),this.paused=!1,this.ticker=window.setInterval(this.tick.bind(this),1e3/60),this.tick()}pause(){this.paused=!0,window.clearInterval(this.ticker)}end(){}}(I);(new class{constructor(){this.controlPause=document.querySelector("#control-pause"),this.fpsInfo=document.querySelector("#control-fps")}init(e){var t,r;this.controlPause.onclick=()=>this.controlPause.textContent=e.paused?(e.start(),"Pause"):(e.pause(),"Start"),e.fpsListener=e=>{this.fpsInfo.textContent=e.toString()},document.onkeydown=t=>{if(!e.paused)switch(t.keyCode){case 13:e._wave=e.ticks-1200}},t=document.getElementById("control-turrets").children,r=function(t){const r=this.getAttribute("data-name");e.selected=new g(r,new S(-1,-1))},Array.prototype.slice.call(t).forEach((function(e){e.addEventListener("click",r,!1)})),document.querySelector("#canvas").addEventListener("click",(function(t){if(e.selected){const t=new v(e.selected.name);t.setState(x.SHOOT_AROUND),e.turrets.push(t),e.selected=null}}),!1),document.querySelector("#canvas").addEventListener("mousemove",(function(t){if(e.selected){const r=e.cx.canvas.getBoundingClientRect(),s=Math.ceil(t.clientX-r.left),o=Math.ceil(t.clientY-r.top);e.selected.pos=new S(s,o)}}),!1)}}).init(O),m.load((()=>{O.start()}))}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={id:s,exports:{}};return e[s](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r(201)})();