(()=>{"use strict";var t={424:(t,n,e)=>{e.d(n,{Z:()=>d});var o=e(645),i=e.n(o),r=e(667),s=e.n(r),a=e(233),c=i()((function(t){return t[1]})),l=s()(a.Z);c.push([t.id,"/*****************************************************************************/\n/* Reset\n/*****************************************************************************/\n/*html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}*/\n\n\n/*****************************************************************************/\n/* Global\n/*****************************************************************************/\n\na {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    color: #00F;\n    cursor: pointer;\n    text-decoration: none;\n    user-select: none;\n}\n\n/*body {*/\n/*    -moz-box-shadow: 0 0 10px #000;*/\n/*    -webkit-box-shadow: 0 0 10px #000;*/\n/*    box-shadow: 0 0 10px #000;*/\n/*    display: inline-block;*/\n/*    margin: 10px;*/\n/*    font: 12px \"Droid Sans Mono\", monospace;*/\n/*}*/\n\nbody {\n    background-color: #85ADE6;\n    display: block;\n}\n\n.root {\n    background-image: url("+l+");\n    display: block;\n    position: relative;\n    width: 1024px;\n    margin: auto;\n    box-shadow: 0 0 10px #000;\n}\n\ncanvas {\n    width: 1024px;\n    height: 768px;\n    margin: 0;\n\n}\n\n#control {\n    background-color: #DDD;\n    font-size: 12px;\n    height: 64px;\n    width: 1024px;\n    margin: 0;\n    margin-top: -4px;\n}\n\nimg {\n    border: 1px solid red;\n    width: 44px;\n    height: 44px;\n}\n\n#control-left {\n    float: left;\n}\n\n#control-turrets > a {\n    float: left;\n    text-align: center;\n    width: 90px;\n    display: block;\n}\n\n\n#control-score {\n    position: relative;\n}\n\n#control-right {\n    float: right;\n}\n\n#control-right-1, #control-right-2, #control-right-3 {\n    float: left;\n}\n\n#control-timer {\n    background-color: #F00;\n    display: block;\n    height: 20px;\n    width: 20px;\n}\n\n#control-fast {\n    background-color: #85ADE6;\n    display: block;\n    height: 20px;\n    width: 20px;\n}\n\n#control-right-2 {\n    border: solid #CCC;\n    border-width: 0 1px;\n    min-width: 60px;\n    padding: 0 10px;\n}\n",""]);const d=c},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);o&&i[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},667:t=>{t.exports=function(t,n){return n||(n={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},233:(t,n,e)=>{e.d(n,{Z:()=>o});const o=e.p+"img/813c60c7f4c27124c5cbc240bf9f8c70.jpg"},379:(t,n,e)=>{var o,i=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),r=[];function s(t){for(var n=-1,e=0;e<r.length;e++)if(r[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},o=[],i=0;i<t.length;i++){var a=t[i],c=n.base?a[0]+n.base:a[0],l=e[c]||0,d="".concat(c," ").concat(l);e[c]=l+1;var h=s(d),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(r[h].references++,r[h].updater(p)):r.push({identifier:d,updater:g(p,n),references:1}),o.push(d)}return o}function c(t){var n=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=e.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){n.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(n);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var l,d=(l=[],function(t,n){return l[t]=n,l.filter(Boolean).join("\n")});function h(t,n,e,o){var i=e?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(n,i);else{var r=document.createTextNode(i),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(r,s[n]):t.appendChild(r)}}function p(t,n,e){var o=e.css,i=e.media,r=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var u=null,f=0;function g(t,n){var e,o,i;if(n.singleton){var r=f++;e=u||(u=c(n)),o=h.bind(null,e,r,!1),i=h.bind(null,e,r,!0)}else e=c(n),o=p.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<e.length;o++){var i=s(e[o]);r[i].references--}for(var c=a(t,n),l=0;l<e.length;l++){var d=s(e[l]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}e=c}}}}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={id:o,exports:{}};return t[o](r,r.exports,e),r.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{var t=e(379),n=e.n(t),o=e(424);n()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;class i{constructor(t,n){this.x=t,this.y=n}}class r{}r.rand=t=>Math.floor(Math.random()*(t+1)),r.move=(t,n,e)=>{const o=n.x-t.pos.x,i=n.y-t.pos.y,r=Math.atan2(i,o);return t.pos.x+=e*Math.cos(r),t.pos.y+=e*Math.sin(r),(o<0?-o:o)+(i<0?-i:i)<2};class s{}s.Loopy=[{x:0,y:334},{x:730,y:70}];const a=e.p+"img/b9476135f5d7282d14cab0829dad5b8d.jpg";class c{static load(t){const n=new Image;n.src=a,n.onload=()=>{this.map=n,t()}}}const l=document.querySelector("canvas").getContext("2d"),d=new class{constructor(t){this.cx=t,this.map=s.Loopy,this.ticks=0,this._ticks=0,this._tick=0,this.ticker=-1,this.paused=!1,this.wave=0,this._wave=0,this.creeps=[],this.hp=1,this.hpinc=1.3}tick(){if(this.cx.clearRect(0,0,this.cx.canvas.width,this.cx.canvas.height),this.cx.drawImage(c.map,0,0,this.cx.canvas.width,this.cx.canvas.height),this.ticks-this._ticks==60){const t=Math.round(6e4/(Date.now()-this._tick));this._tick=Date.now(),this.fpsListener(t),this._ticks=this.ticks}if(this._wave+1200===this.ticks){this.hpinc={2:1.2,5:1.15,10:1.1}[this.wave]||this.hpinc,this.hp*=this.hpinc;for(let t=0;t<10;t++){const n={pos:new i(-20*t-10,this.map[0].y),offset:new i(r.rand(14),r.rand(5)),nextpoint:0,speed:1,hp:1,burning:!1,slowfor:0};this.creeps.push(n)}this._wave=this.ticks}this.creeps.forEach(((t,n,e)=>{const o=this.map[t.nextpoint];r.move(t,new i(o.x-7+t.offset.x,o.y-7+t.offset.y),t.speed)&&t.nextpoint++,this.cx.beginPath(),this.cx.strokeStyle="yellow",this.cx.rect(t.pos.x-5,t.pos.y-5,10,10),this.cx.stroke()})),this.ticks++}start(){this._ticks=this.ticks,this._tick=Date.now(),this.paused=!1,this.ticker=window.setInterval(this.tick.bind(this),1e3/60),this.tick()}pause(){this.paused=!0,window.clearInterval(this.ticker)}end(){}}(l);(new class{constructor(){this.controlPause=document.querySelector("#control-pause"),this.fpsInfo=document.querySelector("#control-fps")}init(t){this.controlPause.onclick=()=>this.controlPause.textContent=t.paused?(t.start(),"Pause"):(t.pause(),"Start"),t.fpsListener=t=>{this.fpsInfo.textContent=t.toString()},document.onkeydown=n=>{if(!t.paused)switch(n.keyCode){case 13:console.log("enter"),t._wave=t.ticks-1200}}}}).init(d),c.load((()=>{d.start()}))})()})();